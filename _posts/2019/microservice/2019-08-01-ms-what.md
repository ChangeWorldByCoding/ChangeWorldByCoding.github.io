---
layout:     post
title:      "什么是微服务"
subtitle:   " \"什么是微服务\""
date:       2019-08-01 10:24:00
author:     "gmg"
catalog: true
tags:
    - 工作
---

> 微服务 study ”

# 微服务

微服务（Microservice）这个概念是2012年出现的，作为加快Web和移动应用程序开发进程的一种方法，2014年开始受到各方的关注，而2015年，可以说是微服务的元年；


微服务是分布式系统中最近比较流行的架构模型，也是 SOA 架构的一个进化。它用于描述一种独立部署的软件应用设计方式。

微服务架构风格是一种将一个单一应用程序开发为一组小型服务的方法，每个服务运行在自己的进程中，服务间通信采用轻量级通信机制(通常用HTTP资源API)。这些服务围绕业务能力构建并且可通过全自动部署机制独立部署。这些服务共用一个最小型的集中式的管理，服务可用不同的语言开发，使用不同的数据存储技术。

单体应用程序可以是成功的，但人们日益对他们感到挫败，尤其是随着更多的应用程序被部署在云上。变更周期被捆绑在一起 —— 即使只变更应用程序的一部分，也需要重新构建并部署整个单体。长此以往，通常将很难保持一个良好的模块架构，这使得很难变更只发生在需要变更的模块内。程序扩展要求进行整个应用程序的扩展而不是需要更多资源的应用程序部分的扩展。
 
  ![s](
  https://github.com/gmg0829/Img/blob/master/microservice/ms-a.png)

这些挫败导向了微服务架构风格：构建应用程序为服务套件。除了服务是可独立部署、可独立扩展的之外，每个服务都提供一个固定的模块边界。甚至允许不同的服务用不同的的语言开发，由不同的团队管理。
## 微服务架构的特征
  ### 通过服务组件化

  当谈到组件时，我们遭遇困难的定义：组件是什么。我们的定义是：组件是一个可独立替换和独立升级的软件单元。

  服务是一种进程外的组件，它通过web服务请求或rpc(远程过程调用)机制通信，服务是可独立部署的。

  ### 围绕业务功能进行组织

  当想要把大型应用程序拆分成部件时，通常管理层聚焦在技术层面，导致UI团队、服务侧逻辑团队、数据库团队的划分。当团队按这些技术线路划分时，即使是简单的更改也会导致跨团队的时间和预算审批。一个聪明的团队将围绕这些优化，两害取其轻 - 只把业务逻辑强制放在它们会访问的应用程序中。

![s](
  https://github.com/gmg0829/Img/blob/master/microservice/ms-b.png)

  微服务采用不同的分割方法，划分成围绕业务能力组织的服务。这些服务采取该业务领域软件的宽栈实现，包括用户接口、持久化存储和任何外部协作。因此，团队都是跨职能的，包括开发需要的全方位技能：用户体验、数据库、项目管理。

![s](
  https://github.com/gmg0829/Img/blob/master/microservice/ms-c.png)



  ### 去中心化数据管理
 当对概念模式下决心进行分散管理时，微服务也决定着分散数据管理。微服务让每个服务管理自己的数据库：无论是相同数据库的不同实例，或者是不同的数据库系统。

![s](
  https://github.com/gmg0829/Img/blob/master/microservice/ms-d.png)

   对跨微服务的数据来说，去中心化责任对管理升级有影响。处理更新的常用方法是在更新多个资源时使用事务来保证一致性。


   使用事务是因为它能够帮助处理一致性问题，但对时间的消耗是严重的，这给跨服务操作带来难题。分布式事务非常难以实施，因此微服务架构强调服务间事务的协调，并清楚的认识一致性只能是最终一致性以及通过补偿运算处理问题。

   ### 基础设施自动化

 基础设施自动化技术在过去几年中得到了长足的发展：云计算，特别是AWS的发展，减少了构建、发布、运维微服务的复杂性。


 许多用微服务构建的产品或系统是由在持续部署和它的前身持续集成有丰富经验的团队构建的。团队用这种方式构建软件，广泛使用了基础设施自动化。如下面的构建管线图所示：



![s](
  https://github.com/gmg0829/Img/blob/master/microservice/ms-e.png)


参考：

http://blog.cuicc.com/blog/2015/07/22/microservices/#

https://martinfowler.com/articles/microservices.html